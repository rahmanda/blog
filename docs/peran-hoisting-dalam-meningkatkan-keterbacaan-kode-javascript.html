<!DOCTYPE html>
<html lang="id">
  <head>
    <title>Peran Hoisting dalam Meningkatkan Keterbacaan Kode Javascript</title>
    <meta charset="UTF-8">
    
<meta name="description" content="Pendapat kurang populer terhadap hoisting dan penggunaannya">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3">
    <style>
      /* cyrillic-ext */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNa7lqDY.woff2) format('woff2');
        unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
      }
      /* cyrillic */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qPK7lqDY.woff2) format('woff2');
        unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
      }
      /* greek-ext */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNK7lqDY.woff2) format('woff2');
        unicode-range: U+1F00-1FFF;
      }
      /* greek */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qO67lqDY.woff2) format('woff2');
        unicode-range: U+0370-03FF;
      }
      /* vietnamese */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qN67lqDY.woff2) format('woff2');
        unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
      }
      /* latin-ext */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNq7lqDY.woff2) format('woff2');
        unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
      }
      /* latin */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7l.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }
    </style>
    
<link href="/client.build.f2ff8eff0ebbde8e2d06.css" rel="stylesheet">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="bg-indigo h-1"></div> <nav class="max-w-md mx-auto py-2 px-5 text-base whitespace-nowrap overflow-y-auto"><a href="/" class="mr-4">Home</a> <a href="/archive.html" class="mr-4">Archive</a> <a href="https://id.linkedin.com/in/rahmandawibowo" class="mr-4">About</a></nav> <main role="main" dir="ltr"><article class="post"><h1>Peran Hoisting dalam Meningkatkan Keterbacaan Kode Javascript</h1> <div class="text-sm text-grey-darker font-sans"><time datetime="2019-06-21">
        21 Juni 2019
      </time> <span class="mx-1">•</span> <span title="6 min read">6 min read</span></div> <div class="text-sm mt-6 text-grey-darker font-sans"><span>
        Translate to:
        <a href="/en/peran-hoisting-dalam-meningkatkan-keterbacaan-kode-javascript.html" class="mx-1">
          English
        </a></span> <!----></div> <section class="mt-8"><p>Banyak orang yang tidak suka dengan <em>hoisting</em> karena sifatnya yang membingungkan. Bahkan <em>style guide</em> yang populer seperti <a href="https://github.com/airbnb/javascript#functions">airbnb/javascript</a> merekomendasikan untuk tidak menggunakan <em>hoisting</em> sama sekali. Kenapa ya bisa begitu?</p>
<p>Supaya tahu apa alasannya, coba perhatikan contoh di bawah ini.</p>
<pre><code class="language-js">add(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">return</span> a + b;
}
</code></pre>
<p>Apakah hasil keluaran dari pemanggilan fungsi <code>add</code> di atas?</p>
<p>Ternyata hasil keluarannya adalah <code>4</code> meskipun fungsi <code>add</code> dideklarasikan setelah pemanggilan fungsinya. Karena terdapat sifat <em>hoisting</em> pada Javascript, deklarasi fungsi dengan cara ini akan otomatis dipindahkan ke bagian paling atas pada sebuah <em>scope</em> pada proses eksekusi kode. Oleh karena itu selama berada di dalam <em>scope</em> yang sama, pemanggilan fungsi tidak akan memunculkan <em>reference error</em>.</p>
<p>Sifat <em>hoisting</em> ini tidak lazim ditemukan pada bahasa pemrograman yang lain. Umumnya apabila suatu fungsi belum dideklarasikan secara eksplisit di bagian atas <em>scope</em>, maka akan terjadi <em>error</em>. Itulah mengapa banyak pemrogram, terutama yang telah memiliki pengetahuan bahasa pemrograman yang lain, merasa tidak nyaman dalam menggunakan <em>hoisting</em> dan membiasakan diri untuk selalu mendeklarasikan fungsi pada awal program. Beberapa orang bahkan <a href="https://github.com/airbnb/javascript#functions--declarations">mengambil langkah lebih jauh</a> untuk menggunakan pola seperti ini untuk mencegah sifat hoisting muncul pada program.</p>
<pre><code class="language-js">add(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// ReferenceError: can't access lexical declaration `add' before initialization</span>

<span class="hljs-keyword">const</span> add = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addFn</span>(<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">return</span> a + b;
}
</code></pre>
<p>Menurut saya, contoh kode di atas hanya mempersulit keadaan karena kodenya menjadi lebih panjang dan kita harus memikirkan penamaan sebanyak dua kali, satu untuk variabel dan satu untuk nama fungsinya. Kode seperti ini juga tidak membuat menjadi lebih mudah dibaca karena pola ini juga tidak umum digunakan pada bahasa pemrograman lain.</p>
<h2>Keterbacaan pada kode <em>anti-hoisting</em> vs <em>hoisting-first</em></h2>
<p>Di bawah ini adalah contoh kode sederhana yang tidak memanfaatkan <em>hoisting</em> (meskipun sifat <em>hoisting</em>-nya sendiri masih bekerja).</p>
<pre><code class="language-js"><span class="hljs-comment">// anti-hoisting.js</span>

<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>;
<span class="hljs-keyword">import</span> glob <span class="hljs-keyword">from</span> <span class="hljs-string">'glob'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFilename</span>(<span class="hljs-params">filePath</span>) </span>{
  <span class="hljs-keyword">return</span> path.basename(filePath, path.extname(filePath));
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">readFile</span>(<span class="hljs-params">filePath</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">path</span>: filePath,
    <span class="hljs-attr">filename</span>: getFilename(filePath),
    <span class="hljs-attr">content</span>: fs.readFileSync(filePath, <span class="hljs-string">'utf-8'</span>),
  };
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAllFiles</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> globPattern = path.join(__dirname, <span class="hljs-string">'src/*.md'</span>);
  <span class="hljs-keyword">const</span> filePaths = glob.sync(globPattern);
  <span class="hljs-keyword">const</span> files = filePaths.map(readFile);
  <span class="hljs-keyword">return</span> files;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> getAllFiles;
</code></pre>
<p>Menurut saya, penulisan kode seperti ini kurang enak untuk dibaca karena beberapa hal:</p>
<p><strong>Sulit untuk mengidentifikasi apa fungsi utamanya dan apa saja fungsi yang diekspor</strong></p>
<p>Pada contoh kode di atas, kita tidak bisa mengetahui secara langsung apa fungsi utama dan apa saja yang diekspor pada kode tersebut. Padahal itu adalah hal yang paling pertama kali ingin kita ketahui setiap kali membaca sebuah modul Javascript. Karena deklarasi ekspor berada pada bagian paling akhir, seringkali tidak mudah untuk mengidentifikasinya karena kita harus membaca semuanya sampai ke bagian paling bawah. Hal ini akan lebih menyulitkan apabila baris kodenya cukup panjang.</p>
<p><strong>Sulit untuk menelusuri cara kerja program secara keseluruhan</strong></p>
<p>Karena semua fungsi yang akan digunakan harus dideklarasikan terlebih dahulu di atas, kita tidak dapat dengan mudah untuk mengetahui bagaimana alur programnya bekerja.</p>
<p>Misalkan kita ingin mengetahui keseluruhan cara kerja dari kode pada contoh. Fungsi utama kita, <code>getAllFiles</code> melakukan pemanggilan fungsi <code>readFile</code> sehingga kita perlu mencari tahu bagaimana fungsi ini bekerja. Karena fungsi utama <code>getAllFiles</code> berada di paling bawah, kita harus mencari kode di bagian atasnya. Setelah menemukan letak deklarasi <code>readFile</code>, ternyata di dalam fungsinya ada lagi pemanggilan fungsi lain, yaitu <code>getFilename</code>. Lalu kita telusuri lagi ke baris-baris sebelumnya sampai tidak ada lagi pemanggilan fungsi selain fungsi eksternal.</p>
<p>Jadi untuk menelusuri cara kerja kode tersebut secara keseluruhan, kita perlu membaca terbalik dari bawah ke atas. Tentu saja cara baca yang demikian tidaklah nyaman karena kita lebih terbiasa membaca dari atas ke bawah.</p>
<p>Salah satu tujuan awal dari menulis semua deklarasi pada bagian atas adalah agar kita mengetahui apa saja fungsi yang tersedia. Namun pada kenyataannya, pada setiap pemanggilan fungsi internal, kita tetap perlu membaca kembali ke baris dimana fungsi itu dideklarasikan untuk memahami cara kerja dari fungsi tersebut.</p>
<p>Sekarang bandingkan dengan kode di bawah ini yang memanfaatkan <em>hoisting</em> (atau saya lebih suka menyebutnya metode <em>hoisting-first</em>).</p>
<pre><code class="language-js"><span class="hljs-comment">// hoisting-first.js</span>

<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>;
<span class="hljs-keyword">import</span> glob <span class="hljs-keyword">from</span> <span class="hljs-string">'glob'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> getAllFiles;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAllFiles</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> globPattern = path.join(__dirname, <span class="hljs-string">'src/*.md'</span>);
  <span class="hljs-keyword">const</span> filePaths = glob.sync(globPattern);
  <span class="hljs-keyword">const</span> files = filePaths.map(readFile);
  <span class="hljs-keyword">return</span> files;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">readFile</span>(<span class="hljs-params">filePath</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">path</span>: filePath,
    <span class="hljs-attr">filename</span>: getFilename(filePath),
    <span class="hljs-attr">content</span>: fs.readFileSync(filePath, <span class="hljs-string">'utf-8'</span>),
  };
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFilename</span>(<span class="hljs-params">filePath</span>) </span>{
  <span class="hljs-keyword">return</span> path.basename(filePath, path.extname(filePath));
}
</code></pre>
<p>Yang saya lakukan pada kode di atas hanyalah mengatur kembali urutan deklarasi fungsi-fungsi pada contoh kode sebelumnya. Dengan cara penulisan seperti ini, kode lebih mudah diketahui apa fungsi utamanya karena sekarang deklarasi ekspornya berada di atas. Selain itu, kode ini juga lebih mudah untuk ditelusuri karena setiap deklarasi fungsi berada persis di bawah fungsi yang memanggilnya. Jadi kita hanya perlu membaca secara alamiah dari atas ke bawah tanpa perlu melihat kembali deklarasi fungsi di atasnya.</p>
<p>Hasil penulisan kode dengan metode <em>hoisting-first</em> juga lebih mudah untuk dibaca pada modul yang memiliki banyak fungsi. Meskipun saya juga tidak merekomendasikan untuk menulis banyak kode dalam satu modul atau <em>file</em>, saya hanya ingin menjelaskan bahwa cara penulisan seperti ini mungkin bisa bermanfaat untuk kebutuhan yang tidak dapat dihindari.</p>
<h2>Kekurangan pada <em>hoisting-first</em></h2>
<p>Kalau kamu ingin menggunakan <em>hoisting-first</em> dan kamu suka pakai eslint pada <em>text editor</em>, kamu mungkin perlu mengatur ulang pengaturan eslint kamu. Hal ini disebabkan beberapa preset eslint, terutama <a href="https://www.npmjs.com/package/eslint-config-airbnb">airbnb config</a>, memasang aturan <em>anti-hoisting</em>. Oleh karena itu, aturan-aturan terkait dengan <em>anti-hoisting</em> perlu dimatikan supaya tidak muncul <em>error</em> pada saat <em>ngoding</em> atau melakukan <em>git commit</em>.</p>
<p>Tetapi dengan dimatikannya aturan <em>anti-hoisting</em>, kita menjadi lebih bebas dalam mendeklarasikan suatu fungsi. Oleh karena itu, kesadaran diri perlu lebih ditingkatkan untuk menjaga agar kode tetap bagus dan tidak malah membingungkan.</p>
<h2>Penutup</h2>
<p>Karena sifat <em>hoisting</em> itu sudah menjadi bagian dari Javascript itu sendiri, penulisan kode dengan pendekatan <em>hoisting-first</em> itu seharusnya dipahami oleh semua pemrogram Javascript. Saya tidak mencoba untuk berargumen bahwa pendekatan saya adalah pendekatan yang paling benar. Semua yang saya tulis semata-mata hanya untuk memberikan sudut pandang yang berbeda.</p>
<p>Kalau enggak bakal pakai <em>hoisting-first</em>, setidaknya sekarang kamu sudah mengerti apa itu <em>hoisting</em> (mudah-mudahan).</p>
<h2>Ekstra</h2>
<p>Karena saya jadi penasaran kenapa kok dulu Javascript dibuatnya menggunakan <em>hoisting</em>, saya mencoba mencari hal ini di internet dan akhirnya menemukan jawaban menarik yang datang dari seorang <a href="https://en.wikipedia.org/wiki/Brendan_Eich">Brendan Eich</a>, pencipta dari Javascript itu sendiri. Beliau beralasan bahwa penambahan sifat <em>hoisting</em> pada Javascript itu didasari oleh keperluan <em>mutual recursion</em> dan <strong>menghindari cara baca dari bawah ke atas</strong>. Jadi sebenarnya pendekatan yang saya lakukan itu selaras dengan tujuan awal dari penambahan sifat <em>hoisting</em> pada Javascript.</p>
<blockquote class="twitter-tweet" data-conversation="none" data-lang="en"><p lang="en" dir="ltr"><a href="https://twitter.com/DmitrySoshnikov?ref_src=twsrc%5Etfw">@DmitrySoshnikov</a> <a href="https://twitter.com/jashkenas?ref_src=twsrc%5Etfw">@jashkenas</a> yes, function declaration hoisting is for mutual recursion &amp; generally to avoid painful bottom-up ML-like order</p>&mdash; BrendanEich (@BrendanEich) <a href="https://twitter.com/BrendanEich/status/33403701100154880?ref_src=twsrc%5Etfw">February 4, 2011</a></blockquote>
<p>Bagaimana menurutmu?</p>
</section></article> <footer class="flex flex-col md:flex-row max-w-md mx-auto my-8"><div class="flex-1 px-6 pb-8 text-left"><p class="mb-2 text-grey-dark">Older Post</p> <a href="/edit-format-tanggal-dengan-intl.datetimeformat.html">← Edit Format Tanggal dan Waktu dengan Intl.DateTimeFormat</a></div> <!----></footer></main></div>
    
<script src="/client.build.153f9bdea64861dc6c99.js" type="text/javascript" async></script>
    <div id="disqus_thread" class="max-w-md mx-auto px-6 py-12"></div>
    <script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'ambercatbyrahmanda'; // required: replace example with your forum shortname

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-73365330-1', 'auto');
    ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->
  </body>
</html>
