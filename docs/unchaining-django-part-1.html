<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Unchaining Django - Part 1</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    
<link href="/client.build.bcf49eda2efc4f8ad679.css" rel="stylesheet">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="bg-indigo h-1"></div> <nav class="max-w-md mx-auto py-2 px-8 text-base whitespace-nowrap overflow-y-auto"><a href="/" class="mr-4">Home</a></nav> <main role="main"><section class="post"><h1>Unchaining Django - Part 1</h1> <!----> <div class="text-sm mb-8 text-grey-darker"><time datetime="2014-10-10">
        10 October 2014
      </time> <span class="mx-1">•</span> <span title="5 min read">5 min read</span></div> <article><p>Pada tulisan kali ini, saya akan berbagi ilmu mengenai Django, yaitu <em>framework</em> web berbasis Python. Saya berasumsi bahwa kamu semua telah menginstall Django via virtualenv sebelumnya. Bagi kamu yang belum menginstall Django, silakan ikuti tutorial instalasi Django <a href="/instalasi-django.html">disini</a> terlebih dahulu sebelum mengikuti tutorial ini.  </p>
<p>Melalui serial tutorial ini, kita akan membuat sebuah aplikasi <em>polling</em> sederhana yang memiliki fitur :  </p>
<ol>
<li>Melihat <em>polling</em> dan memberikan <em>vote</em> pada <em>polling</em> tersebut.  </li>
<li>Admin yang dapat membuat, mengedit dan menghapus <em>polling</em>.  </li>
</ol>
<h2 id="outline">Outline</h2>
<p>Yang dibahas pada tutorial ini adalah:  </p>
<ol>
<li>Membuat projek Django.  </li>
<li>Membuat <code>apps</code> pada projek Django.  </li>
</ol>
<h2 id="membuat-projek-baru">Membuat projek baru</h2>
<p>Buka terminal/command line kamu, <code>cd</code> ke direktori virtualenv yang pernah kamu buat saat mengikuti <a href="/instalasi-django.html">tutorial instalasi</a>. Setelah itu jalankan perintah berikut:  </p>
<pre><code>$ python .\Scripts\django-admin.py startproject mysite</code></pre><p>Perintah ini akan membuat folder <code>mysite</code> pada direktori kamu saat ini. Struktur dari projek <code>mysite</code> akan terlihat seperti dibawah ini:  </p>
<pre><code>mysite/
    manage.py
    mysite/
        __init__.py
        setting.py
        urls.py
        wsgi.py</code></pre><p>Berikut penjelasan rincinya:  </p>
<ul>
<li>Folder <code>mysite</code> yang paling luar hanya merupakan kontainer untuk projek kamu. Anda dapat me-<em>rename</em> folder tsb. sesuai keinginan kamu.  </li>
<li>manage.py: Sebuah <em>script</em> command-line yang memungkinkan kamu untuk berinteraksi dengan projek Django dengan berbagai cara.  </li>
<li>Folder <code>mysite</code> yang di dalam adalah projek Django kamu sebenarnya yang terdiri dari beberapa <em>script</em> Python.  </li>
<li><code>mysite/__init__.py</code>: File kosong yang berfungsi untuk menkamui direktori ini agar dikenali sebagai sebuah <em>package</em> oleh Python.  </li>
<li><code>mysite/settings.py</code>: Konfigurasi untuk projek Django.  </li>
<li><code>mysite/urls.py</code>: Deklarasi url untuk projek Django. Bisa juga dianggap sebagai &#39;Daftar Isi&#39;nya projek Django.  </li>
<li><code>mysite/wsgi.py</code>: Sebuah <em>entry-point</em> untuk mengecek kompabilitas WSGI pada server kamu.</li>
</ul>
<h2 id="konfigurasi-database">Konfigurasi <em>Database</em></h2>
<p>Buka <code>mysite/setting.py</code> pada teks editor kamu. Secara <em>default</em>, Django menggunakan SQLite sebagai <em>database</em>. Untuk serial tutorial ini <em>database</em> yang digunakan adalah SQLite.<br>Apabila kamu ingin menggunakan <em>database</em> lain, kamu perlu menginstall <em>plugin</em> tambahan dan mengubah konfigurasi <code>DATABASE</code> sesuai dengan konfigurasi koneksi <em>database</em> yang digunakan. Detil konfigurasinya dapat kamu lihat pada dokumentasi <a href="https://docs.djangoproject.com/en/1.7/ref/settings/#std:setting-DATABASES"><code>DATABASE</code></a>. Untuk saat ini kamu hanya perlu mengedit <code>TIMEZONE</code> sesuai dengan zona waktu wilayah kamu, misal
<code>Asia/Jakarta</code> (daftar zona waktu dapat dilihat <a href="http://en.wikipedia.org/wiki/List_of_tz_database_time_zones">disini</a>).<br>Perhatikan konfigurasi <code>INSTALLED_APPS</code>. Konfigurasi tersebut berisikan nama semua <em>apps</em> Django yang telah aktif pada projek kamu. <em>Apps</em> dapat digunakan pada banyak projek, dan kamu dapat mendistribusikannya untuk projek orang lain.<br>Secara <em>default</em>, <code>INSTALLED_APPS</code> terdiri dari:  </p>
<ul>
<li><code>django.contrib.admin</code> - Aplikasi admin, akan digunakan pada tutorial selanjutnya.  </li>
<li><code>django.contrib.auth</code> - Sistem otentikasi.  </li>
<li><code>django.contrib.contenttypes</code> - <em>Framework</em> untuk tipe konten.  </li>
<li><code>django.contrib.sessions</code> - Sistem <em>session</em>.  </li>
<li><code>django.contrib.messages</code> - Sistem perpesanan.  </li>
<li><code>django.contrib.staticfiles</code> - <em>Framework</em> untuk mengelola fail statis.  </li>
</ul>
<p>Beberapa dari aplikasi tsb. memerlukan sedikitnya satu tabel, sehingga kita perlu membuat tabel pada <em>database</em> sebelum dapat menggunakannya. Untuk membuatnya, jalankan perintah dibawah ini:  </p>
<pre><code><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">manage</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">migrate</span></code></pre><p>Perintah <code>migrate</code> akan mencari konfigurasi <code>INSTALLED_APPS</code> dan membuat tabel yang dibutuhkan menurut konfigurasi <em>database</em> pada <code>mysite/settings.py</code>.  </p>
<h2 id="menjalankan-server">Menjalankan server</h2>
<p><code>cd</code> ke <em>root</em> dari direktori <code>mysite</code>, lalu jalankan perintah berikut:</p>
<pre><code><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">manage</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">runserver</span></code></pre><p><em>Output</em>-nya akan terlihat seperti dibawah ini:  </p>
<pre><code>Performing system checks...

<span class="hljs-number">0</span> errors found
September <span class="hljs-number">22</span>, <span class="hljs-number">2014</span> - <span class="hljs-number">15</span>:<span class="hljs-number">50</span>:<span class="hljs-number">53</span>
Django version <span class="hljs-number">1.7</span>, using settings <span class="hljs-string">'mysite.settings'</span>
Starting development server at http:<span class="hljs-comment">//127.0.0.1:8000/</span>
Quit the server <span class="hljs-keyword">with</span> CONTROL-C.</code></pre><p>Setelah server berhasil dijalankan, buka <code>http://127.0.0.1:8000/</code> pada <em>browser</em> kamu. Anda akan melihat halaman &#39;Welcome to Django&#39;. Untuk mengganti <em>port</em> dan IP, jalankan perintah berikut:  </p>
<pre><code><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">manage</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">runserver</span> 0<span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-pseudo">:8000</span></code></pre><h2 id="membuat-model">Membuat model</h2>
<p>Untuk membuat <em>apps</em>, terlebih dahulu kita buat modelnya. Pastikan kamu berada pada direktori yang sama dengan <code>manage.py</code> dan jalankan perintah berikut:  </p>
<pre><code>$ python manage.py startapp polls</code></pre><p>Perintah tersebut akan membuat direktori <code>polls</code> yang memiliki struktur seperti di bawah ini:  </p>
<pre><code>polls/
    __init__.py
    admin.py
    migrations/
        __init__.py
    models.py
    tests.py
    views.py</code></pre><p>Kita akan membuat dua model: <code>Question</code> dan <code>Choice</code>. <code>Question</code> terdiri atas dua <em>field</em>, yaitu <em>question</em> dan <em>publication date</em>. Sedangkan <code>Choice</code> terdiri atas <em>text of choice</em> dan <em>vote</em>. Setiap <code>Choice</code> memiliki relasi dengan sebuah <code>Question</code>. Konsep tersebut direpresentasikan dengan <em>class</em>. Edit <code>polls/models.py</code> sehingga terlihat seperti di bawah ini:  </p>
<pre><code>from django.db import models

class Question(models.Model): 
    question_text = models.CharField(max_length=200) 
    pub_date = models.DateTimeField(&#39;date published&#39;)

class Choice(models.Model): 
    question = models.ForeignKey(Question) 
    choice_text = models.CharField(max_length=200) 
    votes = models.IntegerField(default=0) </code></pre><p>Setiap <em>field</em> direpresentasikan oleh sebuah <em>class</em> <code>Field</code>, misal <code>CharField</code> untuk <em>field</em> dengan tipe data <code>char</code> dan <code>DateTimeField</code> untuk <em>field</em> dengan tipe data <code>datetime</code>.  Beberapa <em>field</em> membutuhkan argumen tertentu. Sebagai contoh, <code>CharField</code> membutuhkan argumen berupa nilai <code>max_length</code>. Hal ini bukan sekedar digunakan pada skema <em>database</em> saja, melainkan juga sebagai validasi.  </p>
<p>Perhatikan bahwa relasi antara <code>Question</code> dan <code>Choice</code> dideklarasikan dengan menggunakan <code>ForeignKey</code>. Hal ini menjelaskan bahwa setiap <code>Choice</code> memiliki relasi dengan satu <code>Question</code>. Django mendukung semua relasi <em>database</em> yang umum seperti <em>many-to-many</em> dan <em>one-to-one</em>.  </p>
<h2 id="mengaktifkan-model">Mengaktifkan Model</h2>
<p>Edit <code>mysite/settings.py</code>, dan ubah konfigurasi <code>INSTALLED_APPS</code> untuk memasukan <code>polls</code> seperti di bawah ini:  </p>
<pre><code>INSTALLED_APPS = ( 
<span class="hljs-string">'django.contrib.admin'</span>, 
<span class="hljs-string">'django.contrib.auth'</span>, 
<span class="hljs-string">'django.contrib.contenttypes'</span>,
<span class="hljs-string">'django.contrib.sessions'</span>, 
<span class="hljs-string">'django.contrib.messages'</span>, 
<span class="hljs-string">'django.contrib.staticﬁles'</span>, 
<span class="hljs-string">'polls'</span>, 
)</code></pre><p>Setelah itu jalankan perintah di bawah ini:  </p>
<pre><code><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">manage</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">makemigrations</span> <span class="hljs-selector-tag">polls</span></code></pre><p><em>Output</em>-nya akan terlihat seperti di bawah ini:  </p>
<pre><code>Migrations <span class="hljs-keyword">for</span> ’polls’:
    <span class="hljs-number">0001</span>_initial.py:
        - Create model Question
        - Create model Choice
        - Add field question to choice</code></pre><p>Dengan menjalankan perintah di atas, kamu telah memberitahu Django bahwa kamu telah membuat beberapa perubahan pada model kamu dan kamu ingin perubahan tsb. disimpan sebagai <em>migration</em>. Untuk melihat seperti apa perintah SQL yang dijalankan oleh Django, jalankan perintah berikut:  </p>
<pre><code><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">manage</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">sqlmigrate</span> <span class="hljs-selector-tag">polls</span> 0001</code></pre><p>Sekarang jalankan kembali <code>migrate</code> untuk membuat tabel yang sesungguhnya pada <em>database</em>:  </p>
<pre><code><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">manage</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">migrate</span></code></pre><h2 id="menggunakan-api">Menggunakan API</h2>
<p>Untuk mengaktifkan <code>shell</code> Python, gunakan perintah berikut:  </p>
<pre><code><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">manage</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">shell</span></code></pre><p>Setelah itu eksplor <em>database API</em> :</p>
<h3 id="credit">Credit</h3>
<p>Sebenarnya tutorial ini bukan buatan saya, melainkan saya hanya membantu menerjemahkan dari tutorial aslinya di <a href="http://djangoproject.com">djangoproject.com</a> yang berbahasa Inggris (tentunya sambil saya ikuti juga tutorialnya). Bagi yang tidak punya waktu untuk menunggu versi Bahasa Indonesianya muncul di situs ini silakan kunjungi situs sumbernya.</p>
</article></section> <footer class="flex flex-col md:flex-row max-w-md mx-auto my-8"><div class="flex-1 px-6 pb-8 text-left"><p class="mb-2 text-grey-dark">Older Post</p> <a href="/instalasi-django.html">← Instalasi Django, Framework Web Python</a></div> <div class="flex-1 px-6 pb-8 text-left md:text-right"><p class="mb-2 text-grey-dark">Newer Post</p> <a href="/tips-menghadapi-projek-kuliah.html">Tips Menghadapi Projek Kuliah - Ekslusif untuk Ilkom →</a></div></footer></main></div>
    
<script src="/client.build.ea0a2031f2680983b234.js" type="text/javascript"></script>
  </body>
</html>
